  {% extends 'layout.html' %}
	{% block body %}
	<!-- Keep jumbotron in center of page solution:
	http://stackoverflow.com/a/27500365/1459035 -->
  <!-- ID priority solution for safe css override from:
   http://stackoverflow.com/a/27704409/1459035 -->

   <!-- INPUTS -->
  <div class="container-fluid" style="margin-top:15px;">
    <div class='row'>
      <div class="col-lg-offset-3 col-lg-6 col-sm-offset-2 col-sm-8 col-xs-offset-0 col-xs-12">
        <div class="well text-center header" id="well">
          <h2 class='results-header'>Input</h2>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-offset-0 col-lg-2 col-sm-offset-0 col-sm-4 col-xs-offset-1 col-xs-5">
        <div class="well text-center" id="well">
          <p class="lead" id='selection-title'>Quarter</p>
          <p style="font-size:24px; margin:0 auto;">{{ quarter }}</p>
        </div>
      </div>
      <div class="col-lg-offset-0 col-lg-2 col-sm-offset-0 col-sm-4 col-xs-offset-0 col-xs-5">
        <div class="well text-center" id="well">
          <p class="lead" id='selection-title'>Time Left</p>
          <p style="font-size:24px; margin:0 auto;">{{ clock }}</p>
        </div>
      </div>
      <div class="col-lg-offset-0 col-lg-2 col-sm-offset-0 col-sm-4 col-xs-offset-1 col-xs-5">
        <div class="well text-center" id="well">
          <p class="lead" id='selection-title'>Down</p>
          <p style="font-size:24px; margin:0 auto;">{{ down }}</p>
        </div>
      </div>
      <div class="col-lg-offset-0 col-lg-2 col-sm-offset-0 col-sm-4 col-xs-offset-0 col-xs-5">
        <div class="well text-center" id="well">
          <p class="lead" id='selection-title'>Yards to Go</p>
          <p style="font-size:24px; margin:0 auto;">{{ yards }}</p>
        </div>
      </div>
      <div class="col-lg-offset-0 col-lg-2 col-sm-offset-0 col-sm-4 col-xs-offset-1 col-xs-5">
        <div class="well text-center" id="well">
          <p class="lead" id='selection-title'>Yard Line</p>
          <p style="font-size:24px; margin:0 auto;">{{ field }}</p>
        </div>
      </div>
      <div class="col-lg-offset-0 col-lg-2 col-sm-offset-0 col-sm-4 col-xs-offset-0 col-xs-5">
        <div class="well text-center" id="well">
          <p class="lead" id='selection-title'>Score Delta</p>
          <p style="font-size:24px; margin:0 auto;">{{ score }}</p>
        </div>
      </div>
    </div>

    <!-- RESULTS -->
    <div class='row'>
      <div class="col-lg-offset-3 col-lg-6 col-sm-offset-2 col-sm-8 col-xs-offset-0 col-xs-12">
        <div class="well text-center header" id="well">
          <h2 class='results-header'>Results</h2>
        </div>
      </div>
    </div>
    <div id='content'>
      <div class="row">
        <div class="col-lg-4 col-xs-12">
          <div class="panel" id="panel-top">
            <div class="panel-heading text-center">
              Model Results
            </div>
            <div class="chart-stage">

              <!--
                  style="width: 200px; height: 250px; margin: 0 auto"
                  style="width: 80%; height: 125px;"
              -->
              <div class="panel-body">
                <!--<div class="row">
                  <div class="col-md-6 col-xs-12 gauge" id="gauge-pass"></div>
                  <div class="col-md-6 col-xs-12 gauge" id="gauge-run"></div>
                  <div class="col-md-6 col-xs-12 gauge" id="gauge-punt"></div>
                  <div class="col-md-6 col-xs-12 gauge" id="gauge-fg"></div>
                  <div class="col-md-12 col-xs-12 gauge" id="gauge-kneel"></div>
                </div>-->
                <div id="prediction-chart"></div>
              </div>
            </div>
            <div class="panel-body">
              Ut enim ad minim veniam,
              quis nostrud exercitation
              ullamco laboris nisiut
              aliquip ex ea commodo
              consequat.
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <div class="panel" id="panel-top">
            <div class="panel-heading text-center">
              Cell Title 2
            </div>
            <div class="chart-stage">
              <ul>
                {% for n in nflstats %}
                <li>{{ n }}</li>
                {% endfor %}
              </ul>
            </div>
<!--          ?down={{ down }}&quarter={{ quarter }}&clock={{ clock }}&yards={{ yards }}&field={{ field }}&score={{ score }}"
            <table data-toggle="table" data-url="http://127.0.0.1:5000/data/guesses/">
              <thead>
                <tr>
                    <th data-field="guess">guess</th>
                    <th data-field="down">down</th>
                    <th data-field="quarter">quarter</th>
                    <th data-field="clock">clock</th>
                    <th data-field="yards">yards</th>
                    <th data-field="field">field</th>
                    <th data-field="score">score</th>
                </tr>
              </thead>
            </table>
-->
<!-- [{
    id: 1,
    name: 'Item 1',
    price: '$1'
}, {
    id: 2,
    name: 'Item 2',
    price: '$2'
}]
            <table id="table"
              data-pagination="true"
              data-search="true">
            </table>
            -->

            <div class="panel-body">
              Ut enim ad minim veniam,
              quis nostrud exercitation
              ullamco laboris nisiut
              aliquip ex ea commodo
              consequat.
            </div>



          </div>
        </div>
      </div>
    </div>
    </div>

    <!-- Charts -->
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
    <script src="../static/js/graphs.js"></script>

    <!-- URL Filters -->
    <script>
    console.log('chart stage is hidden!');
    $('.chart-stage').hide();

    down = "{{ down }}"
    quarter = "{{ quarter }}"
    clock = "{{ clock }}"
    yards = "{{ yards }}"
    field = "{{ field }}"
    score = "{{ score }}"
    PlayType = "{{ guess }}"

    console.log(down + ', ' + quarter + ', '+ clock + ', '+ yards + ', '+ field + ', '+ score + ', ' + PlayType)

    makePredictionChart(quarter, down, clock, yards, field, score);

    var guessURL = '/data/guesses/?down='+down+'&quarter='+quarter+'&clock='+clock+'&yards='+yards+'&field='+field+'&score='+score;
    var nflURL = '/data/nfl/?down='+down+'&quarter='+quarter+'&clock='+clock+'&yards='+yards+'&field='+field+'&score='+score;
    var predictionURL = '/api/predict/?quarter='+quarter+'&down='+down+'&clock='+clock+'&yards='+yards+'&field='+field+'&score='+score;
    //var guessesURL = '/data/guesses/';//'?down='+down+'&quarter='+quarter+'&clock='+clock+'&yards='+yards+'&field='+field+'&score='+score
    //var nflURL = '/data/nfl/?down=4&quarter=4';//'?down='+down+'&quarter='+quarter+'&clock='+clock+'&yards='+yards+'&field='+field+'&score='+score

    q
     .defer(d3.json, predictionURL)
     .defer(d3.json, guessURL)
     .defer(d3.json, nflURL)
     //.await(makeGraphs)
     .await(makeCharts);

    </script>


{% endblock %}
